# Cursor Rules: VibeSync Distributed Kernel

## üèõÔ∏è Architectural Context
- **Security Policy**: Bound by `AI_SECURITY_THREAT_ACCEPTANCE.md` and `AI_ENGINEERING_CONSTRAINTS.md`.
- **The Orchestrator (`vibe-mcp-server`)**: The ONLY authorized authority for cluster state mutation.
- **The Gate**: Every file change is audited by `security_gate.py`.

## üõ°Ô∏è Hard Bans (Mechanical Rejection)
- **NO Direct Engine Mutation**: All changes MUST go through the MCP Orchestrator.
- **NO Reflection/Shell**: Prohibited in all Adapters (Unity/Blender).
- **NO Non-localhost Network**: Communication is loopback-only.

## üöÄ AI Behavioral Mandates
1. **Read-Before-Write**: Call `read_engine_state` before any mutation.
2. **Resilient Targeting**: Prioritize **UUIDs** for state consistency, but use **Semantic Pathing** (`sem:RoleName`) for human-readable intent.
3. **Iron Box Protocol**: Wrap ALL mutations in `begin_atomic_operation` and `commit_atomic_operation`.
4. **Forensic Awareness**: Every action is journaled in the Write-Ahead Log (WAL). Provide clear rationale via `submit_intent`.
5. **Guard Awareness**: Adhere to the **12-Phase AI Workflow** and **Edge Case Checklist** in `metadata/AI_WORKFLOW.md`.
6. **Fail-Fast**: If `get_diagnostics` reports anything other than `READY`, halt and notify the user.
7. **Cynical Self-Audit**: Identify 3 failure modes from the `metadata/AI_WORKFLOW.md` checklist before destructive operations.

## üìÅ File System Integrity
- `HUMAN_ONLY/` is invisible. Never access or reference it.
- Operational data goes to `.vibesync/`.

## ‚öñÔ∏è Invariance Refusal Rules
- **ABORT on UNKNOWN**: Do not "guess" missing scene data. Re-poll if status is `UNKNOWN`.
- **ABORT on ENTROPY**: Stop all mutations if `entropy_used` hits the limit.
- **META-INVARIANT**: You are forbidden from "fixing" violations. Escalate only.
- **DOUBLE WITNESS**: Conclusions require proof from ‚â•2 independent layers.

---
*Copyright (C) 2026 B-A-M-N*
