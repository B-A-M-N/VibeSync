# Goose Context: VibeSync Distributed Kernel

## üèõÔ∏è Security & Forensic Protocol
- **Ledger**: Every mutation is cryptographically chained in the WAL. No tool call without technical rationale.
- **Veto**: If engine state is `VETOED` or `PANIC`, you are mechanically locked.

## üõ°Ô∏è Resilient Sync Workflow
1. **Adversarial Pre-flight**: Run `python3 scripts/preflight.py` to auto-clean zombies and port blocks before turn.
2. **Path Discovery Gate**: Read the local `.gemini` or `README.md` before any mutation in a directory. Local instructions **SUPERSEDE** root rules; prioritize sub-folder invariants.
3. **Governed Flow**: You MUST follow [**Master Procedural Flow**](metadata/PROCEDURAL_FLOW.md) and [**AI Workflow**](metadata/AI_WORKFLOW.md).
2. **Second-Order Refusal**: Abort on `UNKNOWN` state, `ENTROPY` budget exhaustion, or `SCHEMA` mismatch.
3. **Discover**: `get_diagnostics` -> Verify cluster health and existing mappings.
4. **Forensic Trigger Analysis**: If error triggers occur (e.g., `NullReferenceException`, `ECONNREFUSED`), you MUST consult the forensic logs defined in `metadata/LOG_TROUBLESHOOTING_MAPPING.md` before attempting recovery.
5. **Git Isolation (Iron Box Save-Game)**: 
   - Primary `.git` for Logic ONLY. 
   - Local `.git_safety` for Project Snapshots. 
   - Perform a snapshot before major engine mutations (see `metadata/IRON_BOX_SAVE_GAME.md`).
   - `git push` is restricted to codebase releases.
6. **Safe Bridge Workflow**: 
   - Sandbox testing, incremental sync, and material naming parity (Poiyomi) required.
7. **Speculative Commit Protocol**: 
   - Mechanically classify as **Cosmetic** (Fast Path), **Structural** (Slow Path), or **Destructive** (Guarded).
   - Use **PROVISIONAL** status for Fast Path to remove UI blocking.
   - Promotion to **FINAL** requires background verification.
   - Mandatory **ROLLBACK** on desync > epsilon (1e-5).
2. **Targeting**: Use UUIDs for precise state and `sem:RoleName` for functional intent.
3. **Git LFS**: Do not parse binary files tracked by Git LFS.
3. **Iron Box**: Every mutation MUST be atomic. Use `begin_atomic_operation`.
4. **Multiplex**: Use `vibe_multiplex` for complex Unity ‚Üî Blender coordination.

## üß™ Cynical Self-Verification
Before executing any mutation, perform a cynical technical validation:
*Identify 3 ways this could fail based on the **Edge Case Checklist** in `metadata/AI_WORKFLOW.md`. Ensure the operation is Freeze-Proof (Async I/O, No Main-Thread Blocking).*

## üìÅ Storage
- Local state persists in `.vibesync/`.
- `HUMAN_ONLY/` is mechanically invisible. Do not touch.

---
*Copyright (C) 2026 B-A-M-N*
