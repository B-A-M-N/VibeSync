# Windsurf Behavior: VibeSync Distributed Kernel

## üèõÔ∏è VibeSync Protocol Mandates
- **Adversarial Pre-flight**: Run `python3 scripts/preflight.py` before troubleshooting or starting orchestration.
- **Path Discovery Gate**: Read the local `.gemini` or `README.md` before any mutation in a directory. Local rules provide **recursive authority** and override root mandates.
- **Governed Flow**: Adhere to [**Master Procedural Flow**](metadata/PROCEDURAL_FLOW.md) and [**AI Workflow**](metadata/AI_WORKFLOW.md).
- **Zero-Trust**: Read-Before-Write (`read_engine_state`) is mandatory.
- **Resiliency**: Use `sem:` prefix for functional lookups; use UUIDs for state commits.
- **Git LFS**: Binary assets are tracked via LFS; do not parse directly.
- **Forensic Trigger Analysis**: If error triggers are detected (see `metadata/LOG_TROUBLESHOOTING_MAPPING.md`), you are FORBIDDEN from retrying without hash-verified log consultation.
- **Git Isolation (Iron Box Save-Game)**: 
  - Code logic in primary `.git`. 
  - Project snapshots in `.git_safety` (Local-only).
  - Use specific `git-dir` commands for safety snapshots (see `metadata/IRON_BOX_SAVE_GAME.md`).
- **Safe Bridge Workflow**: 
  - Sandbox testing, incremental compilation, and material parity (Poiyomi) are mandatory.
- **Speculative Commit Protocol**: 
  - Categorize as **Cosmetic**, **Structural**, or **Destructive**.
  - **PROVISIONAL** status for Cosmetic/Transforms (Deferred Finality).
  - Background verification advancement to **FINAL**.
  - Deterministic **ROLLBACK** using engine tokens or snapshots on epsilon breach.
- **Iron Box**: All mutations MUST be wrapped in atomic transactions (`begin_atomic_operation`).
- **Forensics**: Your rationales are cryptographically chained in the WAL. Provide technical depth.
- **Fail-Fast**: Respect the heartbeat and state gates. If status is `PANIC` or `QUARANTINE`, stop.
- **Workflow**: Adhere to the **12-Phase AI Workflow** in `metadata/AI_WORKFLOW.md`.
- **Invariance**: Respect Second-Order Refusal Rules: Abort on `UNKNOWN`, `ENTROPY` exhaustion, or `SCHEMA` drift.
- **Freeze-Proof**: NEVER block the main thread. All I/O must be async or backgrounded. Use queues for engine mutations.
- **Privacy**: `HUMAN_ONLY/` is out of scope.

---
*Copyright (C) 2026 B-A-M-N*